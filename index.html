<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Finance for PMs</title>
    <script data-goatcounter="https://financeforpms.goatcounter.com/count" async src="//gc.zgo.at/count.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        html {
            height: 100%;
            scroll-behavior: smooth;
        }

        body {
            height: 100%;
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', sans-serif;
            background: linear-gradient(135deg, #ffffff 0%, #f8f9ff 50%, #fff8fb 100%);
            color: #0a2540;
            line-height: 1.6;
            overflow-x: hidden;
        }

        /* Soft ambient glow */
        .glow {
            position: fixed;
            border-radius: 50%;
            filter: blur(100px);
            opacity: 0.5;
            pointer-events: none;
            z-index: 0;
        }

        .glow-1 {
            width: 400px;
            height: 400px;
            background: #e0e7ff;
            top: -100px;
            right: -100px;
        }

        .glow-2 {
            width: 300px;
            height: 300px;
            background: #fce7f3;
            bottom: -50px;
            left: -50px;
        }

        /* Confetti */
        .confetti-container {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 1000;
        }

        .confetti {
            position: absolute;
            width: 10px;
            height: 10px;
            opacity: 0;
        }

        @keyframes confetti-fall {
            0% {
                opacity: 1;
                transform: translateY(0) rotate(0deg) scale(1);
            }
            100% {
                opacity: 0;
                transform: translateY(100vh) rotate(720deg) scale(0);
            }
        }


        /* Main content */
        .landing {
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            padding: 32px 24px;
            text-align: center;
            position: relative;
            z-index: 1;
        }

        .top-nav {
            width: 100%;
            max-width: 880px;
            margin-bottom: 56px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .logo {
            display: flex;
            align-items: center;
            gap: 8px;
            font-size: 15px;
            font-weight: 700;
            color: #0a2540;
            text-decoration: none;
            letter-spacing: -0.3px;
        }

        .logo-icon {
            width: 36px;
            height: 36px;
        }

        .nav-links {
            display: flex;
            gap: 20px;
        }

        .nav-link {
            font-size: 14px;
            font-weight: 500;
            color: #425466;
            text-decoration: none;
            padding: 8px 16px;
            border-radius: 8px;
            transition: all 0.2s ease;
        }

        .nav-link:hover {
            background: rgba(99, 91, 255, 0.08);
            color: #635bff;
        }

        .modal-overlay {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(10, 37, 64, 0.6);
            backdrop-filter: blur(4px);
            z-index: 1000;
            align-items: center;
            justify-content: center;
            opacity: 0;
            transition: opacity 0.3s ease;
        }

        .modal-overlay.active {
            display: flex;
            opacity: 1;
        }

        .modal {
            background: white;
            border-radius: 20px;
            padding: 40px;
            max-width: 480px;
            width: 90%;
            position: relative;
            transform: translateY(20px);
            transition: transform 0.3s ease;
            box-shadow: 0 25px 50px rgba(0, 0, 0, 0.15);
        }

        .modal-overlay.active .modal {
            transform: translateY(0);
        }

        .modal-close {
            position: absolute;
            top: 16px;
            right: 20px;
            background: none;
            border: none;
            font-size: 28px;
            color: #8898aa;
            cursor: pointer;
            transition: color 0.2s;
        }

        .modal-close:hover {
            color: #0a2540;
        }

        .modal-title {
            font-size: 24px;
            font-weight: 700;
            color: #0a2540;
            margin-bottom: 8px;
        }

        .modal-desc {
            font-size: 15px;
            color: #425466;
            margin-bottom: 24px;
        }

        .modal-points {
            display: flex;
            flex-direction: column;
            gap: 16px;
            margin-bottom: 32px;
        }

        .modal-point {
            display: flex;
            align-items: flex-start;
            gap: 12px;
        }

        .point-icon {
            font-size: 20px;
            flex-shrink: 0;
        }

        .modal-point span:last-child {
            font-size: 15px;
            color: #0a2540;
            line-height: 1.5;
        }

        .modal-cta {
            width: 100%;
            padding: 14px 24px;
            background: linear-gradient(135deg, #635bff 0%, #a960ee 100%);
            color: white;
            border: none;
            border-radius: 10px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: transform 0.2s, box-shadow 0.2s;
        }

        .modal-cta:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 20px rgba(99, 91, 255, 0.3);
        }

        .hero {
            font-size: clamp(36px, 6vw, 52px);
            font-weight: 700;
            letter-spacing: -1.5px;
            line-height: 1.1;
            margin-bottom: 16px;
            background: linear-gradient(135deg, #0a2540 0%, #635bff 50%, #a960ee 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            background-size: 200% auto;
            animation: fadeInUp 0.6s ease forwards, shimmer 4s linear infinite;
            animation-delay: 0.2s, 0s;
            opacity: 0;
        }

        @keyframes shimmer {
            0% { background-position: 0% center; }
            100% { background-position: 200% center; }
        }

        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .subtitle {
            font-size: 18px;
            color: #425466;
            margin-bottom: 20px;
            max-width: 520px;
            line-height: 1.6;
            opacity: 0;
            animation: fadeInUp 0.6s ease forwards;
            animation-delay: 0.3s;
        }

        .proof-inline {
            color: #635bff;
            font-weight: 500;
        }

        .levels {
            display: flex;
            gap: 16px;
            width: 100%;
            max-width: 880px;
            opacity: 0;
            animation: fadeInUp 0.6s ease forwards;
            animation-delay: 0.4s;
        }

        .level {
            flex: 1;
            background: rgba(255, 255, 255, 0.8);
            backdrop-filter: blur(20px);
            -webkit-backdrop-filter: blur(20px);
            border: 1px solid rgba(255, 255, 255, 0.5);
            border-radius: 16px;
            padding: 24px;
            cursor: pointer;
            transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            text-align: left;
            box-shadow: 0 4px 24px rgba(0,0,0,0.06);
            position: relative;
            overflow: hidden;
        }

        .level::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: linear-gradient(90deg, var(--accent), var(--accent-light));
            transform: scaleX(0);
            transition: transform 0.3s ease;
        }

        .level:hover::before {
            transform: scaleX(1);
        }

        .level:hover {
            transform: translateY(-8px) scale(1.02);
            box-shadow: 0 20px 40px rgba(0,0,0,0.12);
        }

        .level:active {
            transform: translateY(-4px) scale(0.98);
        }

        .l1 { --accent: #0e9f6e; --accent-light: #34d399; }
        .l2 { --accent: #d97706; --accent-light: #fbbf24; }
        .l3 { --accent: #dc2626; --accent-light: #f87171; }

        .level-header {
            display: flex;
            align-items: center;
            gap: 12px;
            margin-bottom: 16px;
        }

        .level-icon {
            width: 24px;
            height: 24px;
            color: var(--accent);
        }

        .level-icon svg {
            width: 100%;
            height: 100%;
        }

        .level-num {
            font-size: 12px;
            font-weight: 700;
            letter-spacing: 1px;
            color: var(--accent);
        }

        .level-title {
            font-size: 20px;
            font-weight: 600;
            margin-bottom: 8px;
            color: #0a2540;
        }

        .level-desc {
            font-size: 14px;
            color: #425466;
            margin-bottom: 16px;
            line-height: 1.5;
        }

        .level-footer {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding-top: 20px;
            border-top: 1px solid rgba(0,0,0,0.06);
            font-size: 14px;
            color: #697386;
        }

        .level-cta {
            font-weight: 600;
            color: var(--accent);
            display: flex;
            align-items: center;
            gap: 4px;
        }

        .level-cta::after {
            content: '‚Üí';
            transition: transform 0.2s ease;
        }

        .level:hover .level-cta::after {
            transform: translateX(4px);
        }

        .social-proof {
            font-size: 14px;
            color: #635bff;
            font-weight: 500;
            margin-bottom: 24px;
            opacity: 0;
            animation: fadeInUp 0.6s ease forwards;
            animation-delay: 0.35s;
        }

        .footer {
            margin-top: 32px;
            text-align: center;
            font-size: 13px;
            color: #697386;
            opacity: 0;
            animation: fadeInUp 0.6s ease forwards;
            animation-delay: 0.5s;
        }

        .heart {
            color: #e25555;
        }

        .footer a {
            color: #635bff;
            text-decoration: none;
            font-weight: 500;
            transition: color 0.2s ease;
        }

        .footer a:hover {
            color: #a960ee;
        }

        /* Lesson Page */
        .lesson-page {
            display: none;
            min-height: 100vh;
            position: relative;
            z-index: 1;
        }

        .lesson-page.active {
            display: block;
            animation: fadeIn 0.4s ease;
        }

        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        .lesson-wrap {
            max-width: 720px;
            margin: 0 auto;
            padding: 40px 24px 80px;
        }

        .top-bar {
            display: flex;
            align-items: center;
            gap: 20px;
            margin-bottom: 40px;
        }

        .home-btn {
            display: flex;
            align-items: center;
            gap: 8px;
            padding: 10px 16px;
            background: rgba(255,255,255,0.9);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(0,0,0,0.08);
            border-radius: 12px;
            color: #697386;
            cursor: pointer;
            font-size: 14px;
            font-weight: 600;
            transition: all 0.2s ease;
        }

        .home-btn:hover {
            background: #fff;
            color: #635bff;
            border-color: #635bff;
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(99, 91, 255, 0.2);
        }

        .home-btn:active {
            transform: translateY(0);
        }

        .home-btn svg {
            width: 18px;
            height: 18px;
        }

        .level-indicator {
            font-size: 13px;
            font-weight: 600;
            color: #fff;
            padding: 6px 12px;
            border-radius: 8px;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .level-indicator.beginner { background: linear-gradient(135deg, #0e9f6e, #34d399); }
        .level-indicator.intermediate { background: linear-gradient(135deg, #d97706, #fbbf24); }
        .level-indicator.advanced { background: linear-gradient(135deg, #dc2626, #f87171); }

        .progress {
            flex: 1;
            height: 8px;
            background: rgba(0,0,0,0.06);
            border-radius: 4px;
            overflow: hidden;
        }

        .progress-bar {
            height: 100%;
            background: linear-gradient(90deg, #635bff, #a960ee);
            border-radius: 4px;
            transition: width 0.5s cubic-bezier(0.4, 0, 0.2, 1);
            position: relative;
        }

        .progress-bar::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.4), transparent);
            animation: progressShine 2s infinite;
        }

        @keyframes progressShine {
            0% { transform: translateX(-100%); }
            100% { transform: translateX(100%); }
        }

        .progress-num {
            font-size: 14px;
            color: #697386;
            font-weight: 600;
            min-width: 50px;
            text-align: right;
        }

        /* Streak indicator */
        .streak {
            display: none;
            align-items: center;
            gap: 6px;
            padding: 8px 14px;
            background: linear-gradient(135deg, #ff6b35, #f7931e);
            border-radius: 20px;
            font-size: 14px;
            font-weight: 700;
            color: #fff;
            animation: streakPop 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            box-shadow: 0 4px 12px rgba(255, 107, 53, 0.4);
        }

        .streak.show {
            display: flex;
        }

        @keyframes streakPop {
            0% { transform: scale(0); }
            50% { transform: scale(1.2); }
            100% { transform: scale(1); }
        }

        .card {
            background: rgba(255,255,255,0.9);
            backdrop-filter: blur(20px);
            border: 1px solid rgba(255,255,255,0.5);
            border-radius: 24px;
            overflow: hidden;
            box-shadow: 0 4px 24px rgba(0,0,0,0.08);
            animation: cardSlideIn 0.5s cubic-bezier(0.4, 0, 0.2, 1);
        }

        @keyframes cardSlideIn {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .concept-section {
            padding: 40px;
            border-bottom: 1px solid rgba(0,0,0,0.06);
            background: linear-gradient(180deg, rgba(246,249,252,0.8) 0%, rgba(255,255,255,0) 100%);
        }

        .label {
            font-size: 12px;
            font-weight: 700;
            text-transform: uppercase;
            letter-spacing: 1px;
            color: #635bff;
            margin-bottom: 16px;
        }

        .concept-name {
            font-size: 36px;
            font-weight: 700;
            margin-bottom: 16px;
            color: #0a2540;
            letter-spacing: -0.5px;
        }

        .concept-def {
            font-size: 17px;
            color: #425466;
            line-height: 1.7;
            margin-bottom: 24px;
        }

        .why-box {
            background: linear-gradient(135deg, #fffbeb 0%, #fef3c7 100%);
            border: 1px solid #fde68a;
            border-radius: 16px;
            padding: 20px 24px;
            font-size: 15px;
            color: #92400e;
            line-height: 1.7;
        }

        .why-box b { color: #b45309; }

        .scenario-section {
            padding: 40px;
        }

        .scenario-type {
            display: inline-block;
            font-size: 11px;
            font-weight: 700;
            text-transform: uppercase;
            letter-spacing: 1px;
            color: #635bff;
            background: linear-gradient(135deg, #f0f0ff 0%, #e8e4ff 100%);
            padding: 8px 14px;
            border-radius: 8px;
            margin-bottom: 20px;
        }

        .scenario-text {
            font-size: 16px;
            color: #425466;
            line-height: 1.8;
            margin-bottom: 28px;
        }

        .scenario-text strong { color: #0a2540; }

        .question {
            font-size: 20px;
            font-weight: 600;
            color: #0a2540;
            margin-bottom: 24px;
        }

        .opts {
            display: flex;
            flex-direction: column;
            gap: 12px;
        }

        .keyboard-hint {
            font-size: 12px;
            color: #9ca3af;
            text-align: center;
            margin-top: 16px;
        }

        .keyboard-hint kbd {
            display: inline-block;
            padding: 2px 6px;
            background: #f3f4f6;
            border: 1px solid #e5e7eb;
            border-radius: 4px;
            font-family: inherit;
            font-size: 11px;
        }

        .opt {
            padding: 20px 24px;
            background: rgba(246,249,252,0.8);
            border: 2px solid rgba(0,0,0,0.06);
            border-radius: 16px;
            font-size: 15px;
            color: #425466;
            text-align: left;
            cursor: pointer;
            transition: all 0.2s ease;
            line-height: 1.5;
            position: relative;
            overflow: hidden;
        }

        .opt::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, #635bff, #a960ee);
            opacity: 0;
            transition: opacity 0.2s ease;
        }

        .opt:hover:not(.done) {
            border-color: #635bff;
            transform: translateX(8px);
            color: #0a2540;
        }

        .opt.right {
            border-color: #0e9f6e;
            background: linear-gradient(135deg, #ecfdf5 0%, #d1fae5 100%);
            color: #065f46;
            animation: correctPulse 0.6s ease;
        }

        @keyframes correctPulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.02); }
        }

        .opt.wrong {
            border-color: #dc2626;
            background: linear-gradient(135deg, #fef2f2 0%, #fee2e2 100%);
            color: #991b1b;
            animation: wrongShake 0.5s ease;
        }

        @keyframes wrongShake {
            0%, 100% { transform: translateX(0); }
            25% { transform: translateX(-8px); }
            75% { transform: translateX(8px); }
        }

        .opt.done { cursor: default; }

        .feedback {
            display: none;
            margin-top: 24px;
            padding: 24px;
            border-radius: 16px;
            font-size: 15px;
            line-height: 1.7;
            animation: feedbackSlide 0.4s ease;
        }

        @keyframes feedbackSlide {
            from {
                opacity: 0;
                transform: translateY(10px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .feedback.show { display: block; }

        .feedback.is-right {
            background: linear-gradient(135deg, #ecfdf5 0%, #d1fae5 100%);
            border: 1px solid #a7f3d0;
            color: #065f46;
        }

        .feedback.is-wrong {
            background: linear-gradient(135deg, #fef2f2 0%, #fee2e2 100%);
            border: 1px solid #fecaca;
            color: #991b1b;
        }

        .feedback-head {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-bottom: 12px;
            font-weight: 700;
            font-size: 18px;
        }

        .feedback.is-right .feedback-head { color: #0e9f6e; }
        .feedback.is-wrong .feedback-head { color: #dc2626; }

        .feedback-icon {
            width: 28px;
            height: 28px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 14px;
            font-weight: 700;
        }

        .feedback.is-right .feedback-icon { background: #0e9f6e; color: #fff; }
        .feedback.is-wrong .feedback-icon { background: #dc2626; color: #fff; }

        .encouragement {
            margin-top: 12px;
            padding-top: 12px;
            border-top: 1px solid rgba(0,0,0,0.1);
            font-style: italic;
            opacity: 0.8;
        }

        .next-wrap {
            display: none;
            justify-content: flex-end;
            margin-top: 24px;
        }

        .next-wrap.show { display: flex; }

        .next-btn {
            padding: 16px 32px;
            background: linear-gradient(135deg, #635bff 0%, #5046e5 100%);
            border: none;
            border-radius: 12px;
            font-size: 16px;
            font-weight: 600;
            color: #fff;
            cursor: pointer;
            transition: all 0.2s ease;
            box-shadow: 0 4px 12px rgba(99, 91, 255, 0.4);
        }

        .next-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(99, 91, 255, 0.5);
        }

        .next-btn:active {
            transform: translateY(0);
        }

        /* Completion screen */
        .done-screen {
            text-align: center;
            padding: 60px 40px;
        }

        .done-icon {
            width: 80px;
            height: 80px;
            background: linear-gradient(135deg, #635bff, #a960ee, #f92b75);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 auto 28px;
            animation: doneIconPop 0.6s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            box-shadow: 0 8px 32px rgba(99, 91, 255, 0.4);
        }

        @keyframes doneIconPop {
            0% { transform: scale(0) rotate(-180deg); }
            100% { transform: scale(1) rotate(0deg); }
        }

        .done-icon svg { width: 40px; height: 40px; color: #fff; }

        .done-title {
            font-size: 32px;
            font-weight: 700;
            margin-bottom: 8px;
            color: #0a2540;
            animation: fadeInUp 0.5s ease 0.2s both;
        }

        .done-sub {
            font-size: 18px;
            color: #697386;
            margin-bottom: 32px;
            animation: fadeInUp 0.5s ease 0.3s both;
        }

        .done-score {
            font-size: 72px;
            font-weight: 700;
            background: linear-gradient(135deg, #635bff, #a960ee);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            animation: scoreCount 0.5s ease 0.4s both;
        }

        @keyframes scoreCount {
            0% { transform: scale(0.5); opacity: 0; }
            100% { transform: scale(1); opacity: 1; }
        }

        .done-pct {
            font-size: 18px;
            color: #697386;
            margin-bottom: 16px;
            animation: fadeInUp 0.5s ease 0.5s both;
        }

        .done-message {
            font-size: 16px;
            color: #425466;
            margin-bottom: 36px;
            padding: 16px 24px;
            background: linear-gradient(135deg, #f0f0ff, #e8f4ff);
            border-radius: 12px;
            animation: fadeInUp 0.5s ease 0.6s both;
        }

        .done-btns {
            display: flex;
            gap: 12px;
            justify-content: center;
            animation: fadeInUp 0.5s ease 0.7s both;
        }

        .btn2 {
            padding: 16px 32px;
            background: rgba(255,255,255,0.8);
            border: 1px solid rgba(0,0,0,0.1);
            border-radius: 12px;
            font-size: 16px;
            font-weight: 600;
            color: #425466;
            cursor: pointer;
            transition: all 0.2s ease;
        }

        .btn2:hover {
            background: #fff;
            color: #0a2540;
            transform: translateY(-2px);
        }

        @media (max-width: 768px) {
            .landing { padding: 40px 20px; }
            .levels { flex-direction: column; max-width: 400px; }
            .level { padding: 24px; }
            .hero { font-size: 32px; letter-spacing: -1px; }
            .subtitle { font-size: 16px; }
            .concept-section, .scenario-section { padding: 24px; }
            .concept-name { font-size: 28px; }
            .streak { padding: 6px 10px; font-size: 12px; }
            .top-bar { flex-wrap: wrap; gap: 12px; }
            .home-btn span { display: none; }
            .home-btn { padding: 10px 12px; }
            .level-indicator { font-size: 11px; padding: 5px 10px; }
            .keyboard-hint { display: none; }
            .next-btn kbd { display: none; }
        }
    </style>
</head>
<body>

<div class="glow glow-1"></div>
<div class="glow glow-2"></div>
<div class="confetti-container" id="confetti"></div>

<div class="landing" id="landing">
    <nav class="top-nav">
        <a href="/" class="logo" id="logoLink">
            <svg class="logo-icon" viewBox="0 0 32 32" fill="none">
                <rect x="0" y="0" width="32" height="32" rx="8" fill="#635bff"/>
                <text x="16" y="23" text-anchor="middle" fill="white" font-family="-apple-system, BlinkMacSystemFont, sans-serif" font-size="20" font-weight="700">F</text>
            </svg>
        </a>
        <div class="nav-links">
            <a href="#" class="nav-link" id="whoLink">Who is this for?</a>
            <a href="#" class="nav-link" id="whyLink">Why learn finance?</a>
        </div>
    </nav>
    <h1 class="hero">Finance for PMs</h1>
    <p class="subtitle">30 bite-sized finance lessons for Product Managers. ~90 mins.</p>
    <div class="levels" id="levels"></div>
    <div class="footer">Made with <span class="heart">‚ô•</span> by <a href="https://www.linkedin.com/in/writetoaniketparihar/" target="_blank">Aniket</a></div>
</div>

<div class="modal-overlay" id="whoModal">
    <div class="modal">
        <button class="modal-close" id="modalClose">&times;</button>
        <h2 class="modal-title">Who is this for?</h2>
        <p class="modal-desc">Product Managers who want to:</p>
        <div class="modal-points">
            <div class="modal-point">
                <span class="point-icon">üí¨</span>
                <span>Speak confidently in exec meetings and board reviews</span>
            </div>
            <div class="modal-point">
                <span class="point-icon">üìä</span>
                <span>Make data-backed prioritization and investment decisions</span>
            </div>
            <div class="modal-point">
                <span class="point-icon">üí∞</span>
                <span>Understand how features impact revenue, margins, and unit economics</span>
            </div>
            <div class="modal-point">
                <span class="point-icon">üöÄ</span>
                <span>Level up from feature PM to business-minded product leader</span>
            </div>
        </div>
        <button class="modal-cta" id="modalCta">Start Learning</button>
    </div>
</div>

<div class="modal-overlay" id="whyModal">
    <div class="modal">
        <button class="modal-close" id="whyModalClose">&times;</button>
        <h2 class="modal-title">Why learn finance?</h2>
        <p class="modal-desc">Because great PMs don't just ship features - they drive business outcomes.</p>
        <div class="modal-points">
            <div class="modal-point">
                <span class="point-icon">üéØ</span>
                <span>Prioritize features that actually move revenue, not just usage metrics</span>
            </div>
            <div class="modal-point">
                <span class="point-icon">üí°</span>
                <span>Build stronger business cases that get leadership buy-in</span>
            </div>
            <div class="modal-point">
                <span class="point-icon">üìà</span>
                <span>Understand the real impact of your product decisions on the bottom line</span>
            </div>
            <div class="modal-point">
                <span class="point-icon">ü§ù</span>
                <span>Speak the same language as your CEO, CFO, and investors</span>
            </div>
        </div>
        <button class="modal-cta" id="whyModalCta">Let's Go</button>
    </div>
</div>

<div class="lesson-page" id="lessonPage">
    <div class="lesson-wrap">
        <div class="top-bar">
            <button class="home-btn" id="homeBtn">
                <svg fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"><path d="M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"/></svg>
                <span>Home</span>
            </button>
            <div class="level-indicator" id="levelIndicator">Beginner</div>
            <div class="progress"><div class="progress-bar" id="progBar"></div></div>
            <div class="streak" id="streak">üî• <span id="streakNum">0</span></div>
            <div class="progress-num" id="progNum">1/10</div>
        </div>
        <div class="card" id="card"></div>
    </div>
</div>

<script>
const data = {
    beginner: {
        title: "Beginner",
        desc: "Revenue, CAC, LTV, Churn and the foundational metrics every PM needs",
        lessons: [
            { concept: "Revenue", def: "Revenue is the total amount of money your company earns from selling products or services before any expenses are deducted. It's often called the 'top line' because it sits at the top of the income statement. Everything else - costs, profits, margins - flows down from this number.", why: "Every feature you build should have a clear connection to revenue, whether direct (new pricing tier, add-on) or indirect (reduces churn, increases conversion). If you can't articulate how a feature impacts revenue, it becomes nearly impossible to prioritize against features that can.", type: "Prioritization Decision", ctx: "You're a PM at a B2B project management tool. Your team has capacity for one major feature this quarter. The sales team is pushing for <strong>Feature A: Time Tracking</strong> -an add-on module you could charge $5/user/month for. Meanwhile, user research shows strong demand for <strong>Feature B: Dark Mode</strong> -highly requested but with no direct monetization path.<br><br>Your current customer base: <strong>1,000 companies</strong> averaging <strong>10 users each</strong> (10,000 total users).", q: "Based purely on revenue potential, which feature should you prioritize?", opts: ["Feature A (Time Tracking) - It could generate up to $50K in new monthly recurring revenue", "Feature B (Dark Mode) - Happy users lead to better retention which drives revenue", "Both are equal - Satisfaction and monetization are equally important"], correct: 0, exp: "Feature A has a clear, quantifiable revenue path: 10,000 users √ó $5/month = $50,000 MRR potential. Even with conservative 20% adoption, that's $10,000 in new monthly revenue. Feature B's impact on retention is real but indirect and harder to measure. This doesn't mean you should never build Dark Mode - but when forced to choose, the feature with direct revenue impact typically wins in prioritization frameworks. The key learning: always try to quantify the revenue impact of your features, even when it requires assumptions." },
            { concept: "Gross Margin", def: "Gross margin is the percentage of revenue that remains after subtracting the direct costs of delivering your product or service (called Cost of Goods Sold or COGS). The formula is: (Revenue - COGS) / Revenue √ó 100. For software companies, COGS typically includes hosting, infrastructure, payment processing fees, and customer onboarding costs.", why: "A feature that generates $1M in revenue at 80% margin is worth far more than one generating $1M at 30% margin. As a PM, understanding margin helps you make smarter trade-offs - especially when evaluating features that might require expensive infrastructure (video, AI, real-time sync) or high-touch onboarding.", type: "Product Investment Decision", ctx: "You're the PM for a video hosting platform that currently operates at a <strong>75% gross margin</strong> -well above the SaaS average of 70%. The engineering team has proposed adding <strong>4K video streaming support</strong>, which your enterprise customers have been requesting.<br><br>After analysis, the numbers look like this:<br>‚Ä¢ <strong>Projected new revenue:</strong> $200,000/year<br>‚Ä¢ <strong>Additional CDN and storage costs:</strong> $120,000/year<br>‚Ä¢ <strong>Development cost:</strong> $80,000 (one-time)", q: "Should you prioritize this feature based on its unit economics?", opts: ["Yes -$200K in new revenue is significant growth worth pursuing", "No - The 40% margin on this feature is well below your company average", "Need more information - We should survey customers on willingness to pay a premium"], correct: 1, exp: "This feature would operate at only 40% gross margin ($80K profit on $200K revenue) versus your company's 75% average. While it adds revenue, it actually dilutes your overall margin profile. Each dollar of 4K revenue is worth roughly half of what a dollar of regular revenue is worth to the business. The better approach: either charge a significant premium for 4K (to maintain margins) or find ways to reduce CDN costs. This illustrates a critical PM skill - looking beyond top-line revenue to understand the profitability of what you're building." },
            { concept: "CAC (Customer Acquisition Cost)", def: "CAC measures how much you spend to acquire a single new customer. The basic formula is: Total Sales & Marketing Spend / Number of New Customers Acquired. A healthy CAC depends heavily on your business model - enterprise software can sustain $10,000+ CAC, while consumer apps might need CAC under $5.", why: "CAC shapes your entire go-to-market strategy. High-CAC channels (enterprise sales teams, conferences) only work if customer lifetime value is correspondingly high. Understanding CAC helps you evaluate marketing proposals, pricing decisions, and whether your product can support a particular market segment.", type: "Go-to-Market Strategy", ctx: "Your company is launching a new mid-market pricing tier. The marketing team has proposed two launch strategies and wants your input as the PM who understands the product-market fit best.<br><br><strong>Strategy A: Self-Serve Launch</strong><br>‚Ä¢ Marketing spend: $50,000<br>‚Ä¢ Expected customers: 1,000<br>‚Ä¢ Sales involvement: None (automated onboarding)<br><br><strong>Strategy B: Sales-Assisted Launch</strong><br>‚Ä¢ Marketing spend: $100,000<br>‚Ä¢ Sales team cost: $100,000<br>‚Ä¢ Expected customers: 200<br>‚Ä¢ Dedicated account management included", q: "Which strategy is more efficient from a CAC perspective?", opts: ["Strategy A -$50 CAC is 20x more efficient than Strategy B's $1,000 CAC", "Strategy B - Higher-touch customers have better retention and expansion", "They're equal - Different strategies for different customer segments"], correct: 0, exp: "Strategy A: $50,000 / 1,000 customers = $50 CAC. Strategy B: $200,000 / 200 customers = $1,000 CAC. From pure acquisition efficiency, Strategy A is 20x better. However, this isn't the complete picture - if Strategy B customers have significantly higher LTV (lifetime value) due to better retention or larger contracts, the higher CAC could be justified. This is why LTV:CAC ratio matters more than CAC alone. The key insight: always calculate CAC, but evaluate it in context of customer value." },
            { concept: "LTV (Lifetime Value)", def: "LTV represents the total revenue you can expect from a single customer over their entire relationship with your company. A simplified formula is: Average Revenue Per User (ARPU) √ó Average Customer Lifetime. More sophisticated models account for expansion revenue, margin, and discount rates.", why: "LTV tells you how much you can afford to spend acquiring customers (CAC) and which customer segments are most valuable. It also reveals the ROI of retention efforts - often, increasing customer lifetime by 20% is more valuable than acquiring 20% more customers.", type: "Feature Prioritization", ctx: "Your team is debating two features for the next quarter. You have resources for only one.<br><br><strong>Feature A: Improved Onboarding Flow</strong><br>‚Ä¢ Expected impact: Increase trial-to-paid conversion from 10% to 12%<br>‚Ä¢ Affects: New customers only<br><br><strong>Feature B: Customer Health Dashboard</strong><br>‚Ä¢ Expected impact: Reduce monthly churn from 5% to 4%<br>‚Ä¢ Affects: All 10,000 existing customers<br><br>Current metrics: $100 ARPU/month, 20-month average lifetime, 500 trials/month", q: "Which feature has a larger impact on total customer lifetime value?", opts: ["Feature A - More conversions means more customers generating LTV", "Feature B - Extending lifetime from 20 to 25 months increases every customer's LTV", "They're roughly equal in impact"], correct: 1, exp: "Feature B has dramatically higher impact. Reducing churn from 5% to 4% extends average lifetime from 20 months (1/0.05) to 25 months (1/0.04). For 10,000 existing customers at $100 ARPU, that's a $500 LTV increase per customer = $5M in additional lifetime value. Feature A: 2% conversion lift = 10 extra customers/month √ó $2,000 LTV = $20,000/month in new LTV. Even over a year, that's only $240K vs $5M. Retention improvements compound across your entire customer base; acquisition improvements only affect new customers." },
            { concept: "Churn Rate", def: "Churn rate measures the percentage of customers who cancel or don't renew within a given period. Monthly churn of 5% might sound small, but it compounds dramatically: 5% monthly churn means losing 46% of customers annually. The formula is: Customers Lost / Total Customers at Start of Period.", why: "Churn is often called the 'silent killer' of SaaS businesses. A leaky bucket undermines all your acquisition efforts. As a PM, understanding churn drivers helps you prioritize retention features and identify which customer segments or use cases need product attention.", type: "Resource Allocation", ctx: "You're the PM for a B2B SaaS tool with <strong>10,000 customers</strong> paying <strong>$50/month</strong> each ($500K MRR). Your current churn rate is <strong>3% monthly</strong>.<br><br>Customer research reveals the #1 churn reason: lack of Salesforce integration. Customers using competitor tools cite this as the deciding factor.<br><br>Building the integration would take <strong>3 months of engineering time</strong> (roughly $150K fully-loaded cost). Product analytics suggest it would reduce churn to <strong>2% monthly</strong>.", q: "What's the annual revenue impact of building this integration?", opts: ["Around $60K - The 1% churn reduction multiplied by MRR", "Around $600K - The compounding effect of reduced churn over 12 months", "Around $180K - Three months of saved churn"], correct: 1, exp: "At 3% monthly churn, you lose 300 customers/month √ó $50 √ó 12 months = $1.8M in annual revenue lost. At 2% monthly churn, you lose 200 customers/month √ó $50 √ó 12 months = $1.2M lost. The difference: $600K in retained revenue annually. For a $150K investment (3 months of engineering), that's a 4x return in year one alone - and the benefit compounds every year. This is why churn reduction is often the highest-ROI investment a PM can make. Always calculate the full-year (or multi-year) impact of churn improvements." },
            { concept: "ARPU (Average Revenue Per User)", def: "ARPU is your total revenue divided by total number of customers or users. It tells you how much each customer is worth on average. Growth in ARPU often comes from pricing changes, upsells to premium tiers, add-on features, or shifting customer mix toward higher-value segments.", why: "Revenue growth comes from just two levers: more customers or more revenue per customer. ARPU improvements often have better unit economics than acquisition because they require no CAC and typically have higher margins. As a PM, you should constantly look for opportunities to increase ARPU.", type: "Pricing Strategy", ctx: "Your SaaS product has <strong>5,000 customers</strong> paying <strong>$50/month</strong> each, generating <strong>$3M ARR</strong>. Growth has stalled due to market saturation in your core segment.<br><br>Two strategies are proposed:<br><br><strong>Strategy A: Acquisition Push</strong><br>‚Ä¢ Expand to new market segment<br>‚Ä¢ Goal: Add 1,000 new customers at $50/month<br>‚Ä¢ Cost: $100K in marketing + $50K in product modifications<br><br><strong>Strategy B: Premium Tier Launch</strong><br>‚Ä¢ Add advanced features as a $80/month tier<br>‚Ä¢ Estimate: 20% of existing customers upgrade<br>‚Ä¢ Cost: $50K in development", q: "Which strategy delivers more ARR growth with better economics?", opts: ["Strategy A -$600K new ARR from 1,000 customers is substantial", "Strategy B -$360K ARR from upgrades with lower investment", "Strategy A adds more revenue, but Strategy B is more profitable per dollar spent"], correct: 2, exp: "Strategy A: 1,000 new customers √ó $50 √ó 12 = $600K ARR, costing $150K (4x return). Strategy B: 1,000 upgrades √ó $30/month √ó 12 = $360K ARR, costing $50K (7.2x return). While Strategy A produces more absolute revenue, Strategy B is nearly twice as capital-efficient. Moreover, Strategy B has no CAC, no acquisition risk, and the customers are already proven (lower churn risk). The strategic insight: ARPU expansion from existing customers often outperforms acquisition economics. Both strategies might be worth pursuing, but B should likely come first." },
            { concept: "MRR/ARR (Monthly/Annual Recurring Revenue)", def: "MRR is the predictable revenue your business generates each month from subscriptions. ARR is simply MRR √ó 12. These metrics are the heartbeat of subscription businesses because they represent committed, repeating revenue - unlike one-time sales which don't recur. SaaS companies are typically valued as a multiple of ARR.", why: "The difference between recurring and one-time revenue is profound. $100K in ARR might be valued at $500K-$1M+ (5-10x multiple), while $100K in one-time revenue is worth... $100K. This shapes everything from deal structures to product strategy. PMs should always ask: 'Is this recurring or one-time?'", type: "Deal Structure Decision", ctx: "You're working with sales on a major enterprise deal. The customer has presented two options they'd accept:<br><br><strong>Option A: Perpetual License</strong><br>‚Ä¢ One-time payment: $150,000<br>‚Ä¢ Includes first year of support<br>‚Ä¢ Annual maintenance: $30K/year (not guaranteed)<br><br><strong>Option B: Annual Subscription</strong><br>‚Ä¢ $60,000/year for 3 years (committed)<br>‚Ä¢ Total contract value: $180,000<br>‚Ä¢ Includes all support and updates<br><br>Your company is valued at <strong>10x ARR</strong>.", q: "Which deal structure is better for the business?", opts: ["Option A -$150K cash now is worth more than future payments", "Option B - At 10x ARR, the $60K ARR adds $600K in company value", "They're equivalent over the 3-year period"], correct: 1, exp: "Option B is dramatically better when you consider valuation impact. The $60K ARR contributes $600K to company valuation at 10x multiple - that's 4x the value of the $150K perpetual license. Additionally, subscription creates ongoing relationship (upsell potential), predictable cash flow for planning, and higher likelihood of long-term retention. The perpetual license customer might never pay maintenance or could churn to a competitor without financial friction. This is why software has shifted massively to subscription: recurring revenue is valued far more than one-time transactions." },
            { concept: "Burn Rate", def: "Burn rate is how much cash your company spends beyond what it earns each month. If you spend $150K monthly but only earn $100K, your burn rate is $50K. Runway is how long your cash will last: Cash Balance / Monthly Burn Rate. A company with $600K and $50K burn has 12 months of runway.", why: "Burn rate determines what you can build. Every feature has a cost, and that cost shrinks your runway. As a PM, understanding burn helps you scope appropriately, make trade-offs between speed and resources, and understand why leadership might say 'no' to good ideas that are too expensive right now.", type: "Feature Scoping", ctx: "Your startup has <strong>$1.2M in the bank</strong> and a <strong>$100K/month burn rate</strong>, giving you <strong>12 months of runway</strong>. The CEO wants to hit key milestones before the next funding round in 9 months.<br><br>You've proposed a major new feature that requires:<br>‚Ä¢ <strong>3 additional engineers</strong> for 6 months<br>‚Ä¢ <strong>Additional burn:</strong> $30K/month (fully loaded cost per engineer √ó 3)<br>‚Ä¢ <strong>Expected revenue impact:</strong> $50K MRR, but not until month 6<br><br>The CFO has concerns about the proposal.", q: "How does this feature impact your runway and fundraising position?", opts: ["Runway drops to 9.2 months - risky given the 9-month fundraising timeline", "Runway stays the same because revenue will offset the new costs", "Runway improves because the feature will generate more revenue than it costs"], correct: 0, exp: "New burn rate: $130K/month. New runway: $1.2M / $130K = 9.2 months. The $50K MRR doesn't kick in until month 6, and even then it only partially offsets the increased burn. For the first 6 months, you're burning an extra $180K with zero revenue benefit. This leaves almost no buffer before your 9-month fundraising deadline. The smart approach: scope down the feature to require fewer resources, phase the rollout, or find other costs to cut. This is why burn rate understanding is essential - it's not just about whether a feature is good, but whether you can afford it right now." },
            { concept: "Operating Expenses (OpEx)", def: "Operating expenses are all the costs required to run your business that aren't directly tied to producing your product - think sales & marketing, research & development, and general & administrative costs. Unlike COGS (which scales with revenue), OpEx often includes fixed costs like salaries, office space, and software subscriptions that don't change much whether you have 100 or 1,000 customers.", why: "As a PM, your team's salaries are OpEx. When leadership talks about 'controlling costs' or 'improving efficiency,' they're often targeting OpEx. Understanding this helps you see why headcount decisions are so scrutinized, and why automation or self-service features that reduce the need for support staff can be incredibly valuable.", type: "Cost Structure Decision", ctx: "Your company is evaluating two approaches to handle customer onboarding for a new enterprise product:<br><br><strong>Option A: High-Touch Onboarding Team</strong><br>‚Ä¢ Hire 3 dedicated onboarding specialists ($180K/year total)<br>‚Ä¢ Each handles 20 customers/month<br>‚Ä¢ 95% successful activation rate<br><br><strong>Option B: Self-Serve Onboarding + Automation</strong><br>‚Ä¢ $100K one-time development investment<br>‚Ä¢ $20K/year maintenance<br>‚Ä¢ Handles unlimited customers<br>‚Ä¢ 80% successful activation rate (15% lower)<br><br>Expected new customers: 50/month in Year 1, growing to 100/month by Year 2.", q: "Which approach makes more sense for the business?", opts: ["Option A - The 15% higher activation rate justifies the ongoing cost", "Option B - Lower OpEx and better scalability outweigh the activation gap", "Start with A, then build B once you learn what customers need"], correct: 2, exp: "This is a classic build vs. hire decision. Option A works initially: $180K/year for 60 customers/month capacity handles Year 1's 50/month easily. But by Year 2, you'd need to double the team ($360K/year) for 100/month. Option B scales infinitely at $20K/year but has lower activation. The smart approach: start with Option A to learn exactly what makes onboarding successful, then build Option B incorporating those learnings. This way you get high activation AND scalability. Pure OpEx solutions don't scale; pure automation might miss critical user needs. The hybrid approach optimizes for both learning and long-term efficiency." },
            { concept: "Net Income (Profit Margin)", def: "Net income is what remains after subtracting ALL expenses from revenue - COGS, operating expenses, interest, and taxes. It's the true 'bottom line' that shows whether the business is actually making money. Profit margin is net income as a percentage of revenue. A company with $10M revenue and $1M net income has a 10% profit margin.", why: "While startups often operate at a loss to fuel growth, eventually every business needs to generate profit. As a PM, understanding net income helps you see the full picture: a feature that increases revenue but requires expensive infrastructure, support, and sales might actually hurt profitability. It's the ultimate sanity check on business decisions.", type: "Business Model Evaluation", ctx: "Your company is considering launching a new product line. The finance team has modeled the economics:<br><br><strong>New Product Line Projections (Year 1):</strong><br>‚Ä¢ Revenue: $2,000,000<br>‚Ä¢ COGS (hosting, infrastructure): $400,000 (20%)<br>‚Ä¢ Sales & Marketing: $600,000<br>‚Ä¢ Product & Engineering (allocated): $500,000<br>‚Ä¢ Customer Support: $200,000<br>‚Ä¢ G&A (allocated overhead): $200,000<br><br>The CEO is excited about the $2M revenue opportunity.", q: "What's the actual profit contribution of this new product line?", opts: ["$1.6M contribution - Revenue minus COGS shows strong gross margin", "$100K profit - After all allocated costs, margin is thin but positive", "Net loss - The costs exceed revenue when fully loaded"], correct: 1, exp: "Let's walk through the full P&L: $2M revenue - $400K COGS = $1.6M gross profit (80% margin - looks great!). But then: $1.6M - $600K S&M - $500K Product - $200K Support - $200K G&A = $100K net income (5% margin). The product is profitable, but barely. The 80% gross margin is misleading without the full cost picture. This teaches a critical lesson: always look at fully-loaded economics. A product with 'great margins' can still be marginally profitable or even unprofitable once you account for all the resources it consumes. The $2M revenue sounds exciting until you realize it only generates $100K in actual profit." }
        ]
    },
    intermediate: {
        title: "Intermediate",
        desc: "LTV:CAC ratios, Net Revenue Retention, Payback Period, and Rule of 40",
        lessons: [
            { concept: "LTV:CAC Ratio", def: "The LTV:CAC ratio compares how much a customer is worth (Lifetime Value) to how much you spent to acquire them (Customer Acquisition Cost). A ratio of 3:1 is considered healthy - meaning each customer generates 3x more value than they cost to acquire. Below 3:1 often indicates you're burning cash to grow; above 5:1 might mean you're under-investing in growth.", why: "This ratio is perhaps the most important efficiency metric in SaaS. It tells you whether growth is sustainable or if you're buying revenue at a loss. VCs scrutinize this ratio heavily. As a PM, it helps you evaluate whether marketing campaigns, sales channel investments, or product-led growth strategies are working.", type: "Growth Investment Decision", ctx: "Your company's current metrics: <strong>LTV of $6,000</strong> and <strong>CAC of $3,000</strong>, giving you a <strong>2:1 LTV:CAC ratio</strong>. The board is pressuring for faster growth.<br><br>The marketing team proposes expanding into paid social advertising:<br>‚Ä¢ <strong>Expected impact:</strong> Double customer acquisition volume<br>‚Ä¢ <strong>New CAC:</strong> $4,000 (paid social is more expensive than current organic/content channels)<br>‚Ä¢ <strong>LTV remains:</strong> $6,000 (same customer profile)<br><br>This would drop your LTV:CAC to <strong>1.5:1</strong>.", q: "Should you approve this higher CAC channel to accelerate growth?", opts: ["No - LTV:CAC of 2:1 is already below the 3:1 target; going to 1.5:1 is dangerous", "Yes - A 1.5:1 ratio is still profitable; some cash burn for growth is acceptable", "Proceed cautiously - Test with a small budget and milestone-based expansion"], correct: 2, exp: "A 1.5:1 LTV:CAC ratio means you profit $2,000 per customer ($6K LTV - $4K CAC), so it's not inherently unprofitable. However, it's below the 3:1 benchmark that indicates efficient growth. The right answer is to proceed cautiously: test the channel with limited budget, set clear performance milestones, and look for ways to improve LTV (upsells, retention) to support the higher CAC. The worst outcome would be either rejecting growth entirely or going all-in on an unproven expensive channel. Balance matters." },
            { concept: "Payback Period", def: "Payback period measures how many months it takes to recover your customer acquisition cost through the gross margin generated by that customer. Formula: CAC / (Monthly ARPU √ó Gross Margin %). A 12-month payback means you break even on acquisition costs after one year; anything beyond that is profit.", why: "Payback period determines cash efficiency. A 24-month payback with 18-month average customer lifetime means you lose money on every customer. Short payback periods accelerate the flywheel: you recover CAC quickly and can reinvest in more acquisition. It's why annual billing is so valuable - it can turn an 8-month payback into instant payback.", type: "Pricing Strategy", ctx: "Your SaaS product charges <strong>$100/month</strong> with a <strong>70% gross margin</strong> ($70 contribution per month). Your <strong>CAC is $420</strong>.<br><br>The finance team is analyzing whether to push annual billing more aggressively:<br><br><strong>Monthly billing:</strong> $100/month, customers pay as they go<br><strong>Annual billing:</strong> $1,000/year (17% discount from $1,200), customers pay upfront<br><br>Both options have the same gross margin percentage.", q: "How does annual billing affect your payback period?", opts: ["Monthly billing is better -6-month payback vs annual's 12-month revenue recognition", "Annual billing is better - You collect $1,000 on day one, achieving instant payback", "They're equivalent - Same customer, same LTV, just different timing"], correct: 1, exp: "Monthly payback: $420 CAC / $70 monthly contribution = 6 months to break even. Annual payback: You collect $1,000 on day one, with $700 gross margin (70%). Since $700 > $420 CAC, you achieve positive payback immediately - on day one! Yes, you gave a 17% discount, but the cash flow transformation is dramatic. Instead of waiting 6 months to recover CAC, you can immediately reinvest that cash in acquiring more customers. This is why SaaS companies often push hard for annual commitments despite the discount - the capital efficiency gain outweighs the revenue reduction." },
            { concept: "NRR (Net Revenue Retention)", def: "Net Revenue Retention measures how much revenue you retain from existing customers after accounting for churn, downgrades, and expansion (upsells/cross-sells). Formula: (Starting MRR + Expansion - Contraction - Churn) / Starting MRR. NRR of 120% means your existing customer base generates 20% more revenue this year than last year - without any new sales.", why: "NRR above 100% is the holy grail of SaaS. It means you can grow even if you stopped all new sales. Companies with 120%+ NRR are valued at significant premiums because their growth is built-in. As a PM, NRR tells you whether your product delivers increasing value over time or if customers disengage after purchase.", type: "Strategic Planning", ctx: "Your company has <strong>1,000 customers</strong> generating <strong>$10M ARR</strong> ($10K average per customer). Your current <strong>NRR is 90%</strong> -you're losing 10% of revenue annually from existing customers.<br><br>Leadership wants to grow from $10M to $15M ARR next year. Two strategies are proposed:<br><br><strong>Strategy A: New Logo Focus</strong><br>‚Ä¢ Heavy investment in new customer acquisition<br>‚Ä¢ Assumption: Maintain 90% NRR, add lots of new customers<br><br><strong>Strategy B: Expansion Focus</strong><br>‚Ä¢ Invest in upsell features, customer success, and pricing tiers<br>‚Ä¢ Goal: Improve NRR from 90% to 120%", q: "Which strategy more realistically achieves the $15M goal?", opts: ["Strategy A - Need to add 500+ new customers at $10K each to hit $15M", "Strategy B - Improving NRR to 120% makes the math much easier", "Both are equally viable paths to $15M"], correct: 1, exp: "With 90% NRR, your existing $10M shrinks to $9M. To hit $15M, you need $6M in new revenue = 600 new customers. That's 60% growth in customer count - very aggressive. With 120% NRR, your existing $10M grows to $12M automatically. You only need $3M in new revenue = 300 new customers. That's half the acquisition pressure. The expansion revenue also comes at near-zero CAC (existing customers), while new logos require significant sales and marketing investment. Improving NRR is almost always a higher-leverage strategy than aggressive acquisition." },
            { concept: "Contribution Margin", def: "Contribution margin is the percentage of revenue remaining after subtracting ALL variable costs - not just COGS, but also variable support costs, payment processing, and any cost that scales with revenue. It represents what truly 'contributes' to covering fixed costs and profit. This differs from gross margin, which typically only subtracts direct production costs.", why: "Gross margin can hide unprofitable products. A feature might have 80% gross margin but require so much support that the true contribution margin is 40%. As a PM, understanding full contribution margin helps you evaluate which products/features actually make money when you account for all the costs they create.", type: "Product Line Evaluation", ctx: "You're evaluating your API product line. The finance team reports an impressive <strong>82% gross margin</strong>. But when you dig into the full costs:<br><br><strong>Revenue:</strong> $100,000/month<br><strong>Direct costs (hosting, compute):</strong> $15,000<br><strong>Payment processing:</strong> $3,000<br><strong>API support team (dedicated):</strong> $10,000<br><br>The gross margin calculation only included hosting costs, showing ($100K - $15K) / $100K = 85%.", q: "What is the true contribution margin, and what does it tell you?", opts: ["72% contribution margin - Still healthy, no concerns", "72% contribution margin - The 10% support cost is a red flag worth investigating", "82% contribution margin is accurate - Support is a fixed cost, not variable"], correct: 1, exp: "True contribution margin: ($100K - $15K - $3K - $10K) / $100K = 72%. While 72% is still solid, the real insight is that support costs are eating 10% of revenue. For comparison, self-serve SaaS products typically have support costs under 3%. This suggests the API product may be confusing, poorly documented, or attracting customers who need hand-holding. As a PM, this should trigger investigation: Can we improve documentation? Add better error messages? Build self-service debugging tools? The support cost isn't just a margin problem - it's a product signal that something needs fixing." },
            { concept: "Expansion Revenue", def: "Expansion revenue is additional revenue generated from existing customers through upsells (more expensive plans), cross-sells (additional products), or usage growth (more seats, higher volume). It's the primary driver of NRR above 100% and represents the most capital-efficient form of revenue because it requires no customer acquisition cost.", why: "Expansion revenue is nearly pure profit compared to new customer revenue. Existing customers already trust you, use your product, and require no CAC. World-class SaaS companies generate 30-40% of new revenue from expansion. As a PM, building expansion paths into your product (upgrade prompts, usage-based pricing, add-on modules) can be more valuable than building features to acquire new customers.", type: "Roadmap Prioritization", ctx: "Your product serves <strong>5,000 customers</strong> paying <strong>$100/month</strong> ($500K MRR). You're planning the next major initiative and have two options:<br><br><strong>Option A: Improved Onboarding</strong><br>‚Ä¢ Better trial experience, more templates, guided setup<br>‚Ä¢ Expected impact: Increase trial conversion from 10% to 12%<br>‚Ä¢ Helps: Future new customers only<br><br><strong>Option B: Usage-Based Add-on</strong><br>‚Ä¢ Premium AI features at +$20/user/month<br>‚Ä¢ Research shows 30% of customers would adopt<br>‚Ä¢ Helps: All existing customers immediately", q: "Which option delivers more revenue impact over the next 12 months?", opts: ["Option A - Conversion compounds over time as more trials come through", "Option B - Expansion revenue hits your entire 5,000 customer base immediately", "They're roughly equivalent in 12-month impact"], correct: 1, exp: "Option A: Assuming 500 trials/month, 2% conversion lift = 10 extra customers/month √ó $100 √ó 12 months = $12,000 year-one revenue, compounding to ~$72K if you count LTV. Option B: 30% of 5,000 customers = 1,500 customers √ó $20/month √ó 12 months = $360,000 in year-one expansion revenue. That's 5x more revenue impact. Expansion hits your entire existing base on day one with zero acquisition cost. This is why companies with usage-based pricing and clear upsell paths grow so efficiently - their growth compounds on their existing customer base." },
            { concept: "Rule of 40", def: "The Rule of 40 states that a healthy SaaS company's revenue growth rate plus profit margin should exceed 40%. A company growing 50% with -15% margins scores 35 (below threshold). A company growing 25% with 20% margins scores 45 (healthy). It's a framework for balancing growth investments against profitability.", why: "This rule helps evaluate trade-offs between growth and efficiency. It's acceptable to burn money if you're growing fast; it's acceptable to grow slowly if you're profitable. But slow growth AND losses is a problem. As a PM, this framework helps you understand why leadership might accept or reject investments that sacrifice margin for growth (or vice versa).", type: "Annual Planning", ctx: "Your company is planning next year's strategy. Current state: <strong>25% YoY growth</strong> and <strong>-5% operating margin</strong>. Your Rule of 40 score: <strong>20</strong> (well below the 40 target).<br><br>Two proposed strategies:<br><br><strong>Strategy A: Efficiency Focus</strong><br>‚Ä¢ Cut R&D and marketing investment<br>‚Ä¢ Expected: 15% growth, +10% margin = Score of 25<br><br><strong>Strategy B: Growth Acceleration</strong><br>‚Ä¢ Increase investment significantly<br>‚Ä¢ Expected: 40% growth, -15% margin = Score of 25<br>‚Ä¢ Assumes the investments actually work", q: "Which strategy positions the company better?", opts: ["Strategy A - Score of 25 with profitability is more sustainable", "Strategy B - Score of 25 with high growth is more valuable", "Same score, but Strategy B carries more risk if growth doesn't materialize"], correct: 2, exp: "Both strategies achieve a Rule of 40 score of 25 - both are below target. However, they have very different risk profiles. Strategy A locks in 15% growth and 10% margin with high certainty. Strategy B bets on 40% growth materializing - if growth only hits 30%, you'd have -15% margin and a score of 15, which is worse than doing nothing. Additionally, higher burn rate in Strategy B means less runway and more pressure. The insight: when two strategies have similar expected outcomes, evaluate the risk and variance. Growth investments should be staged and measured, not all-or-nothing bets." },
            { concept: "Gross vs. Net Revenue", def: "Gross revenue is the total value of all sales before any deductions. Net revenue is what you actually keep after subtracting discounts, refunds, chargebacks, and credits. A product might show $200K in gross sales but only $150K in net revenue after accounting for a 20% promotional discount and 5% refund rate.", why: "Discounts and refunds can hide in gross numbers, making performance look better than reality. Heavy discounting might drive gross sales but destroy margins. High refund rates signal product-market fit issues. As a PM, always ask for net revenue figures - they represent the money that actually matters.", type: "Promotion Analysis", ctx: "Your marketing team ran a Black Friday promotion offering <strong>50% off the first year</strong>. They're celebrating the results:<br><br><strong>Gross bookings:</strong> $200,000 (400 new customers √ó $500 list price)<br><strong>Discount given:</strong> $100,000 (50% off)<br><strong>Refund rate:</strong> 15% (vs. 3% normal - many weren't serious buyers)<br><br>Normal campaigns acquire customers at full price with 3% refund rate.", q: "How should you evaluate this promotion's actual performance?", opts: ["$100K net revenue is a success -400 new customers is great volume", "$85K true net revenue after refunds - the high refund rate is a serious concern", "Need more data - Let's see 6-month retention before judging"], correct: 1, exp: "Net revenue: $200K gross - $100K discount = $100K. But then $100K √ó 15% refunds = $15K lost. True net: $85K. More importantly, the 15% refund rate (5x normal) signals these customers weren't truly qualified - they were bargain hunters, not users with genuine problems to solve. Historically, discount-acquired customers churn at 2-3x normal rates. So not only did you net only $85K instead of $200K gross, but a significant portion of those customers will likely churn within months. Heavy discounting often attracts low-quality customers with poor LTV. Promotional 'wins' need to be evaluated on true net revenue AND customer quality." },
            { concept: "Revenue Concentration Risk", def: "Revenue concentration measures how much of your total revenue comes from your largest customers. If your top customer represents 30% of revenue, losing them would be catastrophic. Healthy B2B companies aim for no single customer above 10% and top 10 customers below 40% of total revenue.", why: "Concentration creates existential risk and distorts product decisions. When one customer drives 30% of revenue, their feature requests become demands, their renewal becomes all-consuming, and their departure would trigger layoffs. As a PM, understanding concentration helps you evaluate feature requests and balance building for whales vs. diversifying your base.", type: "Roadmap Prioritization", ctx: "Your <strong>$5M ARR</strong> business has concerning concentration:<br><br>‚Ä¢ <strong>Top customer:</strong> $1.5M ARR (30% of revenue)<br>‚Ä¢ <strong>Next 4 customers:</strong> $1M combined (20% of revenue)<br>‚Ä¢ <strong>Remaining 95 customers:</strong> $2.5M (50% of revenue)<br><br>Your biggest customer has requested a custom feature requiring <strong>2 months of engineering time</strong>. They've implied (not stated) that renewal might depend on it. Their contract renews in 4 months.", q: "How should you approach this feature request?", opts: ["Build it immediately -30% of revenue is too important to risk", "Decline the custom request - It sets a bad precedent for product direction", "Build it, but simultaneously invest heavily in diversifying the customer base"], correct: 2, exp: "The 30% concentration is a serious problem, but you can't ignore it - losing $1.5M would be devastating. The right answer is 'yes, and': build the feature to protect near-term revenue, BUT recognize this as an alarm bell. Start immediately investing in mid-market and SMB acquisition to diversify. Set a goal to reduce this customer's concentration to under 15% within 18 months. The worst outcomes are: (1) losing the customer by refusing, or (2) building for them forever while remaining dangerously concentrated. You need to thread the needle: accommodate now, diversify aggressively." },
            { concept: "Magic Number", def: "The Magic Number measures sales efficiency by comparing revenue growth to sales & marketing spend. Formula: (Current Quarter Revenue - Previous Quarter Revenue) √ó 4 / Previous Quarter S&M Spend. A Magic Number of 1.0 means every dollar of S&M investment generates one dollar of ARR. Above 0.75 is considered efficient; below 0.5 suggests inefficient go-to-market spend.", why: "The Magic Number helps you understand whether your go-to-market engine is working. A low Magic Number might indicate product-market fit issues, poor sales execution, or targeting the wrong customers. As a PM, this metric helps you understand why leadership might pause marketing spend to 'fix the product' first, or why sales is asking for specific features to close deals.", type: "Go-to-Market Efficiency", ctx: "Your company is reviewing Q4 performance and planning Q1 budget:<br><br><strong>Q3 Results:</strong><br>‚Ä¢ Revenue: $2.0M<br>‚Ä¢ S&M Spend: $800K<br><br><strong>Q4 Results:</strong><br>‚Ä¢ Revenue: $2.3M<br>‚Ä¢ S&M Spend: $1.0M<br><br>The sales team is requesting a <strong>50% budget increase</strong> for Q1 to accelerate growth. The CFO has asked for your perspective as PM.", q: "Based on the Magic Number, should you support the budget increase?", opts: ["Yes - Growth is happening, more investment will accelerate it", "No - The Magic Number of 0.6 suggests efficiency issues to fix first", "Conditional - Support increase only if tied to specific product improvements"], correct: 2, exp: "Magic Number = ($2.3M - $2.0M) √ó 4 / $1.0M = $1.2M / $1.0M = 0.6. This is below the 0.75 efficiency threshold, meaning each dollar of S&M spend is generating only $0.60 of ARR. Throwing more money at an inefficient engine just burns cash faster. The right answer: investigate WHY efficiency is low. Is it the product (missing features competitors have)? The market (targeting wrong segments)? The sales process (too long, too complex)? As PM, you should support increased spend only if it's paired with specific improvements to the product or go-to-market approach that will improve efficiency. Otherwise you're just scaling inefficiency." },
            { concept: "Quick Ratio (SaaS)", def: "The SaaS Quick Ratio measures growth efficiency by comparing revenue gains to revenue losses. Formula: (New MRR + Expansion MRR) / (Churned MRR + Contraction MRR). A Quick Ratio of 4 means you're adding $4 for every $1 you lose. Above 4 is excellent, 2-4 is healthy, below 2 suggests a leaky bucket problem that will limit growth.", why: "Quick Ratio reveals whether you're building on solid ground or running on a treadmill. You can grow revenue while having a terrible Quick Ratio (just spend more on acquisition), but it's not sustainable. As a PM, Quick Ratio helps you understand the balance between acquisition-focused features and retention-focused features.", type: "Growth Quality Assessment", ctx: "Your company added <strong>$500K in new MRR</strong> this quarter - a record! The sales team is celebrating. But you dig into the details:<br><br><strong>MRR Movements:</strong><br>‚Ä¢ New customers: +$300K<br>‚Ä¢ Expansion (existing customers): +$200K<br>‚Ä¢ Churn: -$180K<br>‚Ä¢ Contraction (downgrades): -$70K<br><br>Net new MRR: +$250K<br><br>Leadership is planning to double down on sales hiring based on the 'record growth.'", q: "What does the Quick Ratio tell you about this growth?", opts: ["Healthy at 2.0 - Adding $2 for every $1 lost is sustainable growth", "Concerning at 2.0 - The $250K churn+contraction is a red flag despite the headline growth", "Excellent -$500K new MRR speaks for itself"], correct: 1, exp: "Quick Ratio = ($300K + $200K) / ($180K + $70K) = $500K / $250K = 2.0. While 2.0 is technically 'healthy,' the absolute churn numbers are alarming. You're losing $250K/month - that's $3M annually walking out the door. The 'record $500K' required massive effort just to net $250K. If churn continues at this rate and new sales slow down even slightly, growth stalls immediately. Before doubling sales hiring, investigate: Why is churn so high? Why are customers downgrading? Often, fixing retention ($250K saved = $250K earned) is more efficient than acquiring new revenue. The Quick Ratio of 2.0 is a warning sign, not a celebration." }
        ]
    },
    advanced: {
        title: "Advanced",
        desc: "Unit economics modeling, cohort analysis, scenario planning, and strategic finance",
        lessons: [
            { concept: "Unit Economics", def: "Unit economics examines the direct revenues and costs associated with a single 'unit' - typically one customer or one transaction. If it costs you $50 to serve a customer who pays $40, your unit economics are negative (you lose $10 per customer). No amount of volume fixes bad unit economics; in fact, scaling makes it worse.", why: "Unit economics determine whether your business model is fundamentally viable. 'We lose money on every customer but make it up in volume' is a famous joke for a reason - it doesn't work. Before scaling any initiative, PMs must verify that each incremental unit generates profit, not loss.", type: "Business Model Validation", ctx: "Your company is considering a freemium model to accelerate growth. The proposed model:<br><br><strong>Free tier:</strong><br>‚Ä¢ Expected free users Year 1: 100,000<br>‚Ä¢ Cost per free user (hosting, support): $2/year<br>‚Ä¢ Ad revenue per free user: $0.50/year<br><br><strong>Paid conversion:</strong><br>‚Ä¢ 5% convert to paid ($10/month)<br>‚Ä¢ Paid users are profitable at $120/year each<br><br>The growth team is excited about the 100K user potential.", q: "Do the unit economics of this freemium model work?", opts: ["Yes -5,000 paid users √ó $120 = $600K revenue is substantial", "No - The 95,000 free users lose money, overwhelming the paid revenue", "Need more data - Can't evaluate without knowing marketing costs"], correct: 1, exp: "Free user economics: $0.50 revenue - $2.00 cost = -$1.50 per free user. With 95,000 staying free: -$142,500 annual loss. Paid user revenue: 5,000 √ó $120 = $600,000. But this ignores the cost of serving those 5,000 while they were free (before converting). Net-net, you're making ~$450K, which sounds good until you realize: (1) 5% conversion is optimistic, (2) your costs are real and immediate, (3) paid users still had acquisition costs. The unit economics only work if free costs drop below $0.50 (break even) or conversion exceeds ~12%. Before launching, run the model with pessimistic assumptions to see if it still works." },
            { concept: "Revenue Mix Analysis", def: "Revenue mix examines how your total revenue breaks down across products, customer segments, geographies, or pricing tiers. A company might have 80% of revenue from one product, 15% from a second, and 5% from a third. Understanding mix reveals dependencies, growth opportunities, and strategic risks.", why: "Aggregate numbers hide critical patterns. A product showing 20% total growth might actually be a 0% growth core product carried by a 200% growth add-on. As a PM, understanding mix helps you know where to focus, which products are ascending vs. declining, and where your next bet should be.", type: "Portfolio Strategy", ctx: "Your company has three product lines. Here's the mix:<br><br><strong>Core Platform:</strong> $8M ARR, 5% growth, 80% margin<br>‚Ä¢ Mature, stable, cash cow of the business<br><br><strong>Add-on A (Analytics):</strong> $1.5M ARR, 40% growth, 65% margin<br>‚Ä¢ Growing well, clear product-market fit<br><br><strong>Add-on B (AI Features):</strong> $500K ARR, 100% growth, 45% margin<br>‚Ä¢ Fastest growing, lowest margin (expensive to run)<br><br>You have budget to make a significant investment in ONE product line.", q: "Where should you focus investment for maximum impact?", opts: ["Core Platform - It's 80% of revenue; even small improvements are material", "Add-on A (Analytics) - Best balance of scale, growth, and margin", "Add-on B (AI Features) - Fastest growth rate, ride the momentum"], correct: 1, exp: "Add-on A is the optimal choice. At 40% growth, it will reach $2.1M ARR next year. Add-on B's 100% growth sounds impressive but only produces $1M ARR next year (lower absolute growth). Core Platform is stable but 5% growth on $8M = $400K, while 40% growth on $1.5M = $600K - the Add-on has more growth potential. Additionally, Add-on A has proven product-market fit (40% sustained growth) while B might be early/risky. The insight: growth rates on small bases can be misleading. Always calculate absolute dollar growth and assess where each product is in its maturity curve." },
            { concept: "Cohort Analysis", def: "Cohort analysis groups customers by when they joined (their 'cohort') and tracks their behavior over time. Instead of looking at blended average churn, you examine whether January 2024 signups behave differently than June 2024 signups. This reveals whether your business is improving, degrading, or stable over time.", why: "Aggregate metrics can hide serious trends. Your 'stable' 4% monthly churn might actually be 2% for old customers and 7% for recent ones - meaning your business is degrading. As a PM, cohort analysis helps identify whether product changes are actually improving retention or if you're acquiring worse-fit customers.", type: "Diagnostic Analysis", ctx: "Your CFO reports overall monthly churn is stable at <strong>4%</strong>. However, you decide to dig deeper with cohort analysis:<br><br><strong>2022 cohorts:</strong> 2% monthly churn<br>‚Ä¢ These customers have been around longest, most engaged<br><br><strong>2023 cohorts:</strong> 4% monthly churn<br>‚Ä¢ Middle ground, matching the blended average<br><br><strong>2024 cohorts:</strong> 7% monthly churn<br>‚Ä¢ Most recent customers churning at nearly 2x the blended rate<br><br>Meanwhile, new customer acquisition is at an all-time high.", q: "What does this cohort data tell you about business health?", opts: ["Growing pains - New customers always churn more initially, it'll stabilize", "Serious problem - You're acquiring increasingly poor-fit customers", "Insufficient data - Need 12+ months to know if 2024 cohorts will improve"], correct: 1, exp: "This is a serious red flag. The trend is clear: each newer cohort has worse retention (2% ‚Üí 4% ‚Üí 7%). As older, sticky customers become a smaller percentage of your base (diluted by high acquisition), your blended churn will inevitably rise toward 7%+. You're likely acquiring outside your ideal customer profile - either through new marketing channels that attract poor-fit customers, or market expansion into segments that don't get value from your product. The 'all-time high acquisition' might actually be the problem. Action: analyze what's different about 2024 cohorts (source, segment, use case) and either fix onboarding or tighten targeting." },
            { concept: "Operating Leverage", def: "Operating leverage describes how profits scale faster than revenue once you've covered fixed costs. High operating leverage (common in software) means that each additional dollar of revenue contributes disproportionately to profit because costs don't increase proportionally. A company with 60% margins and mostly fixed costs might see margins expand to 70% as revenue doubles.", why: "Operating leverage is why software companies can become incredibly profitable at scale. Understanding this concept helps PMs evaluate investments that reduce variable costs (automation, self-service, platform efficiency) - these investments pay dividends forever as they expand margins on all future revenue.", type: "Platform Investment", ctx: "Your SaaS company generates <strong>$10M ARR</strong> with <strong>$4M in total costs</strong> (60% margin). Engineering proposes a major platform rebuild:<br><br><strong>Option A: Status Quo</strong><br>‚Ä¢ Grow to $15M ARR with proportional costs<br>‚Ä¢ Projected costs: $6M (same 60% margin)<br>‚Ä¢ No rebuild investment needed<br><br><strong>Option B: Platform Rebuild</strong><br>‚Ä¢ Investment: $2M over 12 months<br>‚Ä¢ Result: More efficient architecture, automated operations<br>‚Ä¢ Projected costs at $15M ARR: $5M (67% margin)<br>‚Ä¢ Margin improvement applies to all future revenue", q: "How should you evaluate these two approaches?", opts: ["Option A is better short-term - No risk, no upfront investment", "Option B pays back and compounds -$1M extra profit annually, forever", "They're equivalent over 5 years - Short-term pain for long-term gain"], correct: 1, exp: "Year 1 profit: Option A: $6M ($15M √ó 60%), Option B: $4M ($15M √ó 67% - $2M investment). Year 2+ profit: Option A: $6M, Option B: $10M ($15M √ó 67%). Option B breaks even in year 2 and generates $1M extra annually thereafter. If revenue grows beyond $15M, the gap widens further - every additional dollar gets 67% margin vs 60%. Over 5 years with growth to $25M: Option A = ~$15M margin, Option B = ~$16.75M margin. The operating leverage investment creates a permanent margin improvement that compounds on all future revenue." },
            { concept: "Scenario Modeling", def: "Scenario modeling means building financial projections under multiple different assumptions - typically 'base case' (most likely), 'upside' (optimistic), and 'downside' (pessimistic). Rather than presenting a single forecast, you show a range of outcomes with probabilities and trigger conditions for each.", why: "Single-point forecasts are always wrong. Scenario modeling demonstrates intellectual honesty and helps leadership make better decisions. As a PM, presenting scenarios builds credibility, surfaces risks early, and enables contingency planning. It's the difference between 'we'll hit $2M' (which sounds naive) and 'we're tracking toward base case of $2M, with realistic range of $1.5-2.5M.'", type: "Executive Communication", ctx: "You're presenting the forecast for your new product line to the CFO. Your model shows <strong>$2M ARR</strong> by end of year based on current sales pipeline and conversion rates.<br><br>The CFO asks: 'What if the enterprise deal slips? What if conversion rates are lower than we're seeing in the pilot? What's the downside scenario?'<br><br>You've only built a single forecast model.", q: "What's the best response to the CFO's questions?", opts: ["Defend the $2M forecast - Explain the methodology and why it's reliable", "Offer to build three scenarios - Base ($2M), Downside ($1M), and Upside ($3M)", "Give a conservative number - Just cut 30% off and say $1.4M to be safe"], correct: 1, exp: "Option B is the professional response. Offer to build three scenarios: Base case ($2M) with your current assumptions, Downside ($1M) if the enterprise deal slips and conversion is 30% lower, Upside ($3M) if enterprise closes early and product-market fit accelerates. For each scenario, outline the key assumptions and what signals would indicate you're tracking toward that outcome. This shows analytical rigor, acknowledges uncertainty honestly, enables risk planning, and ultimately builds trust. CFOs respect people who understand that forecasts are probability distributions, not certainties." },
            { concept: "Working Capital Impact", def: "Working capital is the cash needed to fund day-to-day operations - the gap between when you pay expenses and when you collect revenue. Billing customers annually upfront (vs. monthly) dramatically improves working capital by collecting 12 months of cash on day one. This cash can fund growth instead of sitting in accounts receivable.", why: "Payment timing affects how fast you can grow. A company with monthly billing might have $100K of cash tied up waiting for payments. The same company with annual billing might have $1M available. As a PM, understanding working capital helps you appreciate why finance cares about billing terms, and why annual discounts can be worth giving.", type: "Pricing Structure", ctx: "Your company is considering a push to shift customers from monthly to annual billing. The proposal:<br><br><strong>Current state (monthly billing):</strong><br>‚Ä¢ 1,000 customers √ó $100/month<br>‚Ä¢ Cash collected: ~$100K per month, rolling<br><br><strong>Proposed (annual billing with discount):</strong><br>‚Ä¢ Same 1,000 customers √ó $1,000/year (17% discount from $1,200)<br>‚Ä¢ If 100% converted, cash collected: $1M upfront<br><br>Finance says the discount costs $200K annually but frees up $900K in working capital.", q: "Is the annual billing transition worth the discount?", opts: ["No - Giving up $200K in revenue isn't worth the cash timing change", "Yes -$900K in freed-up capital far exceeds the $200K discount cost", "Depends - Need to know the company's cost of capital and growth plans"], correct: 1, exp: "The math strongly favors annual billing. You 'spend' $200K in discounts but gain access to $900K in cash. If that $900K can fund growth (at your normal LTV:CAC efficiency), it's worth far more than the discount cost. For perspective: $900K could fund $300K in marketing that acquires $900K+ in new ARR (at 3:1 LTV:CAC). The discount effectively generates a 4.5x return. Even if you just put the cash in a savings account at 5%, that's $45K in interest. Working capital efficiency is a legitimate source of value - don't underestimate the power of cash in hand versus cash promised over 12 months." },
            { concept: "Segment-Level Payback Analysis", def: "Segment-level payback examines CAC payback periods for different customer segments (SMB, mid-market, enterprise) rather than looking only at blended average. Blended metrics can hide segments that are profitable carrying segments that are underwater, or vice versa.", why: "A healthy 'average' payback period might mask serious segment-level problems. You could have SMB customers with 4-month payback subsidizing enterprise customers with 30-month payback who churn at month 18. As a PM, understanding segment economics helps you know where to focus product investment and which segments are actually working.", type: "Segment Strategy", ctx: "Your company reports a <strong>blended payback period of 8 months</strong> -well within the healthy <12 month benchmark. But when you break it down by segment:<br><br><strong>SMB (60% of customers):</strong><br>‚Ä¢ CAC: $200, Monthly contribution: $50<br>‚Ä¢ Payback: 4 months<br>‚Ä¢ Avg lifetime: 24 months<br><br><strong>Mid-Market (30% of customers):</strong><br>‚Ä¢ CAC: $1,000, Monthly contribution: $150<br>‚Ä¢ Payback: 7 months<br>‚Ä¢ Avg lifetime: 30 months<br><br><strong>Enterprise (10% of customers):</strong><br>‚Ä¢ CAC: $15,000, Monthly contribution: $600<br>‚Ä¢ Payback: 25 months<br>‚Ä¢ Avg lifetime: 36 months, but 3% monthly churn", q: "What does segment-level analysis reveal about Enterprise?", opts: ["Enterprise is healthy - High LTV with 36-month lifetime exceeds 25-month payback", "Enterprise is problematic -25-month payback with 3% churn means many leave before payback", "Enterprise needs time - New segment, will improve as you learn the motion"], correct: 1, exp: "Enterprise has a serious problem hidden in the blended numbers. 3% monthly churn = ~33-month average lifetime. But that's an average - half your enterprise customers churn before 33 months. With 25-month payback, a significant portion of enterprise customers leave before you recover CAC. You're subsidizing enterprise losses with SMB profits. The lifetime of 36 months stated might be optimistic or based on limited data. The healthy blended 8-month payback is carried entirely by SMB and mid-market. Action: either dramatically improve enterprise retention, reduce enterprise CAC, or reconsider whether enterprise is a viable segment for your current product." },
            { concept: "Incrementality", def: "Incrementality measures the true additional impact of an action versus what would have happened anyway. If a customer was already going to buy, crediting that sale to a marketing campaign overstates the campaign's value. True incrementality asks: 'What happened BECAUSE of this action that wouldn't have happened otherwise?'", why: "Marketing and sales often take credit for revenue that would have occurred organically. As a PM, understanding incrementality helps you evaluate feature ROI, marketing campaign effectiveness, and discount impact honestly. Without incrementality thinking, you'll misallocate resources to activities that feel effective but aren't.", type: "Campaign Evaluation", ctx: "Marketing ran a campaign targeting free users to upgrade to paid. They report excellent results:<br><br><strong>Campaign stats:</strong><br>‚Ä¢ Targeted: 10,000 free trial users<br>‚Ä¢ Converted to paid: 500 users (5% conversion)<br>‚Ä¢ Revenue attributed: $500,000 ARR<br><br><strong>But deeper analysis reveals:</strong><br>‚Ä¢ 80% of converters were already in active sales conversations<br>‚Ä¢ Historical baseline conversion for this segment: 5%<br>‚Ä¢ Campaign actually showed 7% conversion rate", q: "What's the true incremental revenue from this campaign?", opts: ["$500K - All conversions happened during the campaign period", "~$100K - Only the 2% lift above baseline (5% ‚Üí 7%) is incremental", "Can't determine - Need a holdout group to measure true incrementality"], correct: 1, exp: "The baseline conversion rate is 5%. The campaign achieved 7%. The incremental lift is only 2 percentage points (7% - 5%). Of the 500 conversions, approximately 357 (5% of 10K √ó some factor) would have happened anyway. Only ~143 conversions ($143K ARR) might be truly incremental. But even this is uncertain because we don't have a clean control group. The 80% who were in sales conversations almost certainly would have converted regardless. The honest answer: likely around $100K incremental revenue, not $500K. This is why holdout testing (not showing the campaign to a random 10%) is essential for measuring true marketing impact. Always ask: 'What would have happened anyway?'" },
            { concept: "CAC Payback by Channel", def: "CAC Payback by Channel breaks down your customer acquisition cost and payback period for each marketing or sales channel separately - organic search, paid ads, content marketing, sales outbound, partnerships, etc. Different channels attract different customer types with different economics, and blending them hides which channels are actually working.", why: "A 'healthy' blended CAC might mask that your best channel is maxed out while you're pouring money into an inefficient one. As a PM, understanding channel-level economics helps you know where customers come from, what they expect, and why certain cohorts behave differently. It also helps you partner with marketing on where to invest.", type: "Channel Investment Decision", ctx: "Your marketing team is requesting budget allocation for next quarter. You analyze current channel performance:<br><br><strong>Organic/Content:</strong><br>‚Ä¢ CAC: $200, Payback: 3 months<br>‚Ä¢ Volume: 100 customers/month (maxed out)<br>‚Ä¢ Quality: Low churn, high expansion<br><br><strong>Paid Search:</strong><br>‚Ä¢ CAC: $500, Payback: 8 months<br>‚Ä¢ Volume: 200 customers/month (scalable)<br>‚Ä¢ Quality: Average churn, average expansion<br><br><strong>Outbound Sales:</strong><br>‚Ä¢ CAC: $2,000, Payback: 18 months<br>‚Ä¢ Volume: 30 customers/month (scalable)<br>‚Ä¢ Quality: Mixed - some great, some terrible fit<br><br>Marketing wants to <strong>triple the Outbound Sales budget</strong> because 'enterprise is the future.'", q: "How should you evaluate this budget request?", opts: ["Approve - Enterprise customers have higher LTV that justifies the CAC", "Reject -18-month payback is too long; focus on Paid Search instead", "Investigate - The 'mixed quality' in Outbound suggests targeting problems to fix first"], correct: 2, exp: "The 18-month payback for Outbound Sales is concerning, but 'mixed quality' is the real red flag. Some outbound customers are great, others are 'terrible fit' - that variance suggests the targeting or qualification process is broken. Tripling budget would triple both the wins AND the losses. Before scaling, investigate: What distinguishes the great-fit outbound customers from the terrible ones? Can you tighten the ideal customer profile? Improve sales qualification? The answer isn't to abandon enterprise (Organic is maxed out, you need new channels), but to fix the efficiency problems first. Scale what works, fix what doesn't - don't just throw money at a leaky process." },
            { concept: "Gross Margin Payback", def: "Gross Margin Payback is a more accurate version of CAC Payback that accounts for the actual margin you earn, not just revenue. Formula: CAC / (Monthly Revenue √ó Gross Margin %). If you have 70% gross margin, only 70 cents of every dollar actually contributes to paying back CAC. This matters especially when comparing products or segments with different margin profiles.", why: "Standard CAC Payback can be misleading if your product has low margins. A customer paying $100/month looks the same in simple payback math whether your margin is 90% or 40%, but the 40% margin customer takes more than twice as long to actually pay back their CAC in real contribution. As a PM, this helps you evaluate the true economics of different product lines or pricing strategies.", type: "Product Line Economics", ctx: "Your company has two product tiers, and you're evaluating where to focus product investment:<br><br><strong>Standard Tier:</strong><br>‚Ä¢ Price: $100/month<br>‚Ä¢ Gross Margin: 85%<br>‚Ä¢ CAC: $600<br><br><strong>Enterprise Tier:</strong><br>‚Ä¢ Price: $500/month<br>‚Ä¢ Gross Margin: 55% (requires dedicated infrastructure, support)<br>‚Ä¢ CAC: $3,000<br><br>Simple CAC payback suggests Enterprise is better: 6 months ($3K/$500) vs Standard's 6 months ($600/$100). The sales team is pushing to focus entirely on Enterprise.", q: "What do the gross margin-adjusted payback periods reveal?", opts: ["Enterprise is still better - Higher absolute margin per customer", "Standard is significantly better -7 months vs Enterprise's 11 months on margin-adjusted basis", "They're equivalent - Both have similar payback when properly calculated"], correct: 1, exp: "Standard Tier: $600 CAC / ($100 √ó 85%) = $600 / $85 = 7.1 months. Enterprise Tier: $3,000 CAC / ($500 √ó 55%) = $3,000 / $275 = 10.9 months. Enterprise takes 54% longer to pay back! The simple payback calculation was misleading because it ignored that Enterprise keeps only 55 cents of every dollar while Standard keeps 85 cents. Enterprise might still be worth pursuing for other reasons (larger contracts, stickier customers, market positioning), but don't be fooled by the headline price - always calculate economics on a margin-adjusted basis. The infrastructure and support costs that lower Enterprise margin are real costs that delay profitability." }
        ]
    }
};

// Encouraging messages
const encouragements = {
    right: [
        "You're thinking like a CFO! üíº",
        "Exactly right! Your finance instincts are sharp.",
        "Nailed it! That's the PM mindset.",
        "Perfect analysis! You'd impress any board.",
        "Spot on! You understand the numbers that matter.",
        "Brilliant! That's strategic thinking.",
        "You've got the investor mindset! üìà",
        "Excellent! That's how top PMs think."
    ],
    wrong: [
        "Common mistake - now you'll remember this one!",
        "Tricky one! This is exactly why PMs need to learn finance.",
        "Good instinct, but the numbers tell a different story.",
        "This is a subtle but important distinction.",
        "Many experienced PMs miss this one too.",
        "The counterintuitive answer is often the right one in finance."
    ]
};

const completionMessages = {
    perfect: "Flawless! You've mastered these concepts. Time for the next level! üèÜ",
    great: "Excellent work! You have a strong grasp of these financial concepts.",
    good: "Solid performance! Review the ones you missed and you'll nail it next time.",
    learning: "Good start! These concepts take practice. Consider retrying to reinforce your learning."
};

function getEncouragement(isRight) {
    const arr = isRight ? encouragements.right : encouragements.wrong;
    return arr[Math.floor(Math.random() * arr.length)];
}

function getCompletionMessage(score, total) {
    const pct = score / total;
    if (pct === 1) return completionMessages.perfect;
    if (pct >= 0.8) return completionMessages.great;
    if (pct >= 0.6) return completionMessages.good;
    return completionMessages.learning;
}

// Confetti function
function triggerConfetti() {
    const container = document.getElementById('confetti');
    const colors = ['#635bff', '#a960ee', '#f92b75', '#0e9f6e', '#fbbf24', '#ff6b6b'];

    for (let i = 0; i < 50; i++) {
        const confetti = document.createElement('div');
        confetti.className = 'confetti';
        confetti.style.left = Math.random() * 100 + '%';
        confetti.style.top = '-10px';
        confetti.style.backgroundColor = colors[Math.floor(Math.random() * colors.length)];
        confetti.style.borderRadius = Math.random() > 0.5 ? '50%' : '0';
        confetti.style.width = (Math.random() * 10 + 5) + 'px';
        confetti.style.height = confetti.style.width;
        confetti.style.animation = `confetti-fall ${Math.random() * 2 + 2}s ease-out forwards`;
        confetti.style.animationDelay = Math.random() * 0.5 + 's';
        container.appendChild(confetti);

        setTimeout(() => confetti.remove(), 4000);
    }
}

// Big celebration for completion
function triggerCelebration() {
    for (let i = 0; i < 3; i++) {
        setTimeout(triggerConfetti, i * 300);
    }
}

let state = {
    level: null,
    idx: 0,
    answered: false,
    pick: null,
    streak: 0,
    scores: {
        beginner: {s:0, done:false, idx:0},
        intermediate: {s:0, done:false, idx:0},
        advanced: {s:0, done:false, idx:0}
    }
};

try { const s = localStorage.getItem('fpm6'); if(s) state = JSON.parse(s); } catch(e){}
function save() { try { localStorage.setItem('fpm6', JSON.stringify(state)); } catch(e){} }

function renderHome() {
    document.getElementById('landing').style.display = 'flex';
    document.getElementById('lessonPage').classList.remove('active');
    const c = document.getElementById('levels');
    const icons = [
        '<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="3" y="3" width="7" height="7"/><rect x="14" y="3" width="7" height="7"/><rect x="3" y="14" width="7" height="7"/><rect x="14" y="14" width="7" height="7"/></svg>',
        '<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="23 6 13.5 15.5 8.5 10.5 1 18"/><polyline points="17 6 23 6 23 12"/></svg>',
        '<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"/></svg>'
    ];
    c.innerHTML = Object.entries(data).map(([k,v],i) => `
        <div class="level l${i+1}" data-k="${k}">
            <div class="level-header">
                <span class="level-icon">${icons[i]}</span>
                <span class="level-num">0${i+1}</span>
            </div>
            <div class="level-title">${v.title}</div>
            <div class="level-desc">${v.desc}</div>
            <div class="level-footer">
                <span>${v.lessons.length} scenarios ¬∑ ~${v.lessons.length * 3} mins</span>
                <span class="level-cta">${state.scores[k].done ? '‚úì ' + state.scores[k].s+'/'+v.lessons.length : (state.scores[k].idx > 0 ? 'Resume (' + (state.scores[k].idx + 1) + '/' + v.lessons.length + ')' : 'Start')}</span>
            </div>
        </div>
    `).join('');
    c.querySelectorAll('.level').forEach(el => el.onclick = () => startLevel(el.dataset.k));
}

function startLevel(k, forceRestart = false) {
    state.level = k;
    state.answered = false;
    state.pick = null;

    // Resume from saved progress or start fresh
    if (!forceRestart && state.scores[k].idx > 0 && !state.scores[k].done) {
        // Resume: keep existing idx and score
        state.idx = state.scores[k].idx;
        state.streak = 0;
    } else {
        // Fresh start
        state.idx = 0;
        state.streak = 0;
        state.scores[k] = {s:0, done:false, idx:0};
    }

    save();
    document.getElementById('landing').style.display = 'none';
    document.getElementById('lessonPage').classList.add('active');
    renderLesson();
}

function updateStreak() {
    const streakEl = document.getElementById('streak');
    const streakNum = document.getElementById('streakNum');
    if (state.streak >= 2) {
        streakEl.classList.add('show');
        streakNum.textContent = state.streak;
    } else {
        streakEl.classList.remove('show');
    }
}

function renderLesson() {
    const lv = data[state.level], ls = lv.lessons, l = ls[state.idx], total = ls.length;
    if(state.scores[state.level].done) { renderDone(); return; }

    document.getElementById('progBar').style.width = ((state.idx+1)/total*100)+'%';
    document.getElementById('progNum').textContent = `${state.idx+1}/${total}`;

    // Update level indicator
    const levelIndicator = document.getElementById('levelIndicator');
    levelIndicator.textContent = lv.title;
    levelIndicator.className = 'level-indicator ' + state.level;

    updateStreak();

    const isRight = state.pick === l.correct;
    const encouragement = state.answered ? getEncouragement(isRight) : '';

    document.getElementById('card').innerHTML = `
        <div class="concept-section">
            <div class="label">Concept</div>
            <div class="concept-name">${l.concept}</div>
            <div class="concept-def">${l.def}</div>
            <div class="why-box"><b>Why PMs care:</b> ${l.why}</div>
        </div>
        <div class="scenario-section">
            <div class="scenario-type">${l.type}</div>
            <div class="scenario-text">${l.ctx}</div>
            <div class="question">${l.q}</div>
            <div class="opts">
                ${l.opts.map((o,i) => `<button class="opt ${state.answered ? (i===l.correct?'right done': i===state.pick?'wrong done':'done') : ''}" data-i="${i}">${o}</button>`).join('')}
            </div>
            ${!state.answered ? '<div class="keyboard-hint">Press <kbd>1</kbd> <kbd>2</kbd> <kbd>3</kbd> to select</div>' : ''}
            <div class="feedback ${state.answered?'show':''} ${state.answered?(isRight?'is-right':'is-wrong'):''}">
                <div class="feedback-head"><div class="feedback-icon">${isRight?'‚úì':'‚úó'}</div>${isRight?'Correct!':'Not quite'}</div>
                ${l.exp}
                <div class="encouragement">${encouragement}</div>
            </div>
            <div class="next-wrap ${state.answered?'show':''}">
                <button class="next-btn">${state.idx < total-1 ? 'Continue' : 'See Results'} <kbd style="margin-left:8px;padding:2px 8px;background:rgba(255,255,255,0.2);border-radius:4px;font-size:12px;">‚Üµ</kbd></button>
            </div>
        </div>
    `;

    document.querySelectorAll('.opt').forEach(btn => btn.onclick = () => {
        if(state.answered) return;
        state.pick = +btn.dataset.i; state.answered = true;
        const correct = state.pick === l.correct;
        if(correct) {
            state.scores[state.level].s++;
            state.streak++;
            triggerConfetti();
        } else {
            state.streak = 0;
        }
        state.scores[state.level].idx = state.idx; // Save current position
        save(); renderLesson();
    });

    const nb = document.querySelector('.next-btn');
    if(nb) nb.onclick = () => {
        if(state.idx < total-1) {
            state.idx++;
            state.answered = false;
            state.pick = null;
            state.scores[state.level].idx = state.idx; // Save progress
        } else {
            state.scores[state.level].done = true;
            state.scores[state.level].idx = 0; // Reset for next time
        }
        save(); renderLesson();
    };
}

function renderDone() {
    const lv = data[state.level], sc = state.scores[state.level].s, t = lv.lessons.length;
    document.getElementById('progBar').style.width = '100%';
    document.getElementById('progNum').textContent = 'Done';
    document.getElementById('streak').classList.remove('show');

    triggerCelebration();

    document.getElementById('card').innerHTML = `
        <div class="done-screen">
            <div class="done-icon"><svg fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"><path d="M5 13l4 4L19 7"/></svg></div>
            <div class="done-title">Level Complete!</div>
            <div class="done-sub">${lv.title} finished</div>
            <div class="done-score">${sc}/${t}</div>
            <div class="done-pct">${Math.round(sc/t*100)}% correct</div>
            <div class="done-message">${getCompletionMessage(sc, t)}</div>
            <div class="done-btns">
                <button class="btn2" id="retry">Try Again</button>
                <button class="next-btn" id="home">All Levels</button>
            </div>
        </div>
    `;
    document.getElementById('home').onclick = () => { state.level = null; save(); renderHome(); };
    document.getElementById('retry').onclick = () => startLevel(state.level);
}

document.getElementById('homeBtn').onclick = () => { state.level = null; save(); renderHome(); };
document.getElementById('logoLink').onclick = (e) => { e.preventDefault(); state.level = null; save(); renderHome(); };

// Modal controls
const whoModal = document.getElementById('whoModal');
document.getElementById('whoLink').onclick = (e) => { e.preventDefault(); whoModal.classList.add('active'); };
document.getElementById('modalClose').onclick = () => whoModal.classList.remove('active');
document.getElementById('modalCta').onclick = () => whoModal.classList.remove('active');
whoModal.onclick = (e) => { if (e.target === whoModal) whoModal.classList.remove('active'); };

const whyModal = document.getElementById('whyModal');
document.getElementById('whyLink').onclick = (e) => { e.preventDefault(); whyModal.classList.add('active'); };
document.getElementById('whyModalClose').onclick = () => whyModal.classList.remove('active');
document.getElementById('whyModalCta').onclick = () => whyModal.classList.remove('active');
whyModal.onclick = (e) => { if (e.target === whyModal) whyModal.classList.remove('active'); };

// Keyboard navigation - press Enter to continue
document.addEventListener('keydown', (e) => {
    if (e.key === 'Enter' && state.level) {
        const nextBtn = document.querySelector('.next-btn');
        if (nextBtn && state.answered) {
            nextBtn.click();
        }
    }
    // Press 1, 2, 3 to select options
    if (['1', '2', '3'].includes(e.key) && state.level && !state.answered) {
        const opts = document.querySelectorAll('.opt');
        const idx = parseInt(e.key) - 1;
        if (opts[idx]) {
            opts[idx].click();
        }
    }
});

renderHome();
</script>
</body>
</html>
